(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02917e97"],{"1c9d":function(e,t,a){"use strict";a.r(t);var o=a("7a23");const c=e=>(Object(o["pushScopeId"])("data-v-1d03cf66"),e=e(),Object(o["popScopeId"])(),e),l={class:"role-container"},n={class:"wrapper"},r={class:"search-box"},d={class:"content-box"},i=["onClick"],b=["onClick"],s=c(()=>Object(o["createElementVNode"])("a",null,"删除",-1)),u={style:{position:"absolute",right:0,bottom:0,width:"100%",borderTop:"1px solid #e9e9e9",padding:"10px 16px",background:"#fff",textAlign:"right",zIndex:1}};function j(e,t,a,c,j,O){const p=Object(o["resolveComponent"])("PlusOutlined"),m=Object(o["resolveComponent"])("a-button"),h=Object(o["resolveComponent"])("a-divider"),w=Object(o["resolveComponent"])("a-popconfirm"),f=Object(o["resolveComponent"])("a-table"),C=Object(o["resolveComponent"])("a-input"),v=Object(o["resolveComponent"])("a-form-item"),x=Object(o["resolveComponent"])("a-col"),g=Object(o["resolveComponent"])("a-row"),k=Object(o["resolveComponent"])("a-textarea"),N=Object(o["resolveComponent"])("a-form"),V=Object(o["resolveComponent"])("a-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(m,{type:"primary",onClick:t[0]||(t[0]=e=>c.handleShowDrawer(1))},{icon:Object(o["withCtx"])(()=>[Object(o["createVNode"])(p)]),default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" 新增 ")]),_:1})]),Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(f,{bordered:"",dataSource:c.roleData,columns:c.columns,size:"small",pagination:c.pagination,loading:c.loading},{operation:Object(o["withCtx"])(({record:e,index:t})=>[Object(o["createElementVNode"])("a",{onClick:t=>c.handleShowDrawer(2,e)},"编辑",8,i),Object(o["createVNode"])(h,{type:"vertical"}),Object(o["createElementVNode"])("a",{onClick:t=>c.handleShowDrawer(3,e)},"详情",8,b),Object(o["createVNode"])(h,{type:"vertical"}),c.roleData.length?(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:0,cancelText:"取消",okText:"确认",title:"确认删除?",onConfirm:a=>c.handleRowDelete(t,e)},{default:Object(o["withCtx"])(()=>[s]),_:2},1032,["onConfirm"])):Object(o["createCommentVNode"])("",!0)]),_:1},8,["dataSource","columns","pagination","loading"])])]),Object(o["createVNode"])(V,{title:c.drawerTitle,width:720,visible:c.isShowDrawer,"body-style":{paddingBottom:"80px"},maskClosable:!1,onClose:c.handleCloseDrawer},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(c.isDetail),1),Object(o["createVNode"])(N,{model:c.formData,layout:"vertical"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,{gutter:16},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(x,{span:12},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{label:"角色名",name:"name"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(C,{value:c.formData.name,"onUpdate:value":t[1]||(t[1]=e=>c.formData.name=e),placeholder:"请输入",disabled:c.isDetail},null,8,["value","disabled"])]),_:1})]),_:1}),Object(o["createVNode"])(x,{span:12},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{label:"角色key",name:"key"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(C,{value:c.formData.key,"onUpdate:value":t[2]||(t[2]=e=>c.formData.key=e),placeholder:"请输入",disabled:c.isDetail},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1}),Object(o["createVNode"])(g,{gutter:16},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(x,{span:24},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{label:"备注",name:"description"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(k,{value:c.formData.description,"onUpdate:value":t[3]||(t[3]=e=>c.formData.description=e),rows:4,placeholder:"请输入",disabled:c.isDetail},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(m,{style:{"margin-right":"8px"},onClick:c.handleCloseDrawer},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("取消")]),_:1},8,["onClick"]),c.isDetail?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(m,{key:0,type:"primary",onClick:c.handleCloseDrawer},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("提交")]),_:1},8,["onClick"]))])]),_:1},8,["title","visible","onClose"])])}var O=a("f64c"),p=a("cc5e"),m={name:"RoleList",setup(){const e={1:"新增",2:"编辑",3:"详情"},t=Object(o["ref"])(!1),a=Object(o["reactive"])({total:0,size:"middle",defaultPageSize:20,current:1,pageSize:20,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","30"],showTotal:e=>`共有 ${e} 条数据`,onShowSizeChange:(e,t)=>a.pageSize=t,onChange:(e,t)=>a.current=e}),c=Object(o["ref"])([]),l=Object(o["ref"])([{title:"序号",dataIndex:"serial",width:60,align:"center",customRender:({t:e,r:t,index:o})=>""+((a.current-1)*a.pageSize+parseInt(o)+1)},{title:"角色名",dataIndex:"name",width:120},{title:"角色key",dataIndex:"key",width:120},{title:"描述",dataIndex:"description"},{title:"操作",dataIndex:"operation",slots:{customRender:"operation"}}]),n=Object(o["ref"])({name:"",key:"",description:""}),r=Object(o["ref"])(!1),d=Object(o["ref"])("新增"),i=Object(o["ref"])(1),b=Object(o["computed"])(()=>1!==i.value&&2!==i.value),s=()=>{t.value=!0,Object(p["b"])().then(e=>{200===e.code&&setTimeout(()=>{c.value=e.data,a.total=e.data.length,t.value=!1},2e3)})},u=(e,t)=>{Object(p["a"])(t.key),c.value.splice(e,1),O["a"].success("删除成功")},j=(t,a)=>{r.value=!0,i.value=t,d.value=e[t],n.value=Object.assign({},n.value,a)},m=()=>{r.value=!1};return Object(o["onMounted"])(()=>{s()}),{roleData:c,columns:l,pagination:a,loading:t,formData:n,isShowDrawer:r,drawerTitle:d,drawerStatus:i,isDetail:b,handleShowDrawer:j,handleCloseDrawer:m,getRoleData:s,handleRowDelete:u}}},h=(a("21b0"),a("d959")),w=a.n(h);const f=w()(m,[["render",j],["__scopeId","data-v-1d03cf66"]]);t["default"]=f},"21b0":function(e,t,a){"use strict";a("42de")},"42de":function(e,t,a){},cc5e:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return l}));var o=a("b775");function c(){return Object(o["a"])({url:"/jc-admin/roles",method:"get"})}function l(e){return Object(o["a"])({url:"/jc-admin/role/"+e,method:"delete"})}}}]);